flowchart TD
    %% InÃ­cio do Sistema
    A[ðŸš€ UsuÃ¡rio faz Login] --> B{Qual Ã© o Role?}
    
    %% DivisÃ£o por Role
    B -->|Vendedor| C[ðŸ“Š Dashboard Vendedor]
    B -->|Gestor| D[ðŸ‘” Dashboard Gestor]
    B -->|Admin| E[âš™ï¸ Dashboard Admin]
    
    %% Fluxo do Vendedor
    C --> F[ðŸ” Gerar Leads CNPJ]
    F --> G[âš™ï¸ Aplicar Filtros]
    G --> H{Filtros aplicados?}
    H -->|Sim| I[ðŸ“‹ Lista de Empresas]
    H -->|NÃ£o| J[ðŸ“‹ Todas as Empresas]
    
    I --> K[âœ… Selecionar Leads]
    J --> K
    K --> L{AÃ§Ã£o desejada?}
    
    %% Fluxo de ProspecÃ§Ã£o
    L -->|Prospectar| M[ðŸ“± Escolher Canal]
    M --> N{Qual canal?}
    N -->|WhatsApp| O[ðŸ’¬ Criar Campanha WhatsApp]
    N -->|Email| P[ðŸ“§ Criar Campanha Email]
    N -->|Ambos| Q[ðŸ”„ Campanha HÃ­brida]
    
    O --> R[ðŸ“ Configurar Template]
    P --> R
    Q --> R
    R --> S[â° Agendar Envio]
    S --> T[ðŸš€ Executar Campanha]
    T --> U[ðŸ“ˆ Acompanhar MÃ©tricas]
    
    %% Fluxo de Kanban
    L -->|Gerenciar| V[ðŸ“‹ Kanban de Leads]
    V --> W{Status atual do Lead?}
    W -->|Novo| X[ðŸ†• Novo Lead]
    W -->|Contatado| Y[ðŸ“ž Lead Contatado]
    W -->|Interesse| Z[ðŸ’¡ Interesse Demonstrado]
    W -->|Proposta| AA[ðŸ“„ Proposta Enviada]
    W -->|NegociaÃ§Ã£o| BB[ðŸ¤ Em NegociaÃ§Ã£o]
    W -->|Fechado| CC[ðŸ’° Venda Fechada]
    
    %% MovimentaÃ§Ã£o no Kanban
    X --> DD[ðŸ”„ Arrastar para prÃ³ximo status]
    Y --> DD
    Z --> DD
    AA --> DD
    BB --> DD
    
    DD --> EE[ðŸ“ Adicionar InteraÃ§Ã£o]
    EE --> FF[ðŸ’¾ Salvar AlteraÃ§Ãµes]
    FF --> GG[ðŸ”” Notificar Gestor]
    
    %% Fluxo de Venda
    CC --> HH[ðŸ“‹ Registrar Venda]
    HH --> II[ðŸ“Ž Anexar Comprovante]
    II --> JJ[ðŸ’µ Informar Valor]
    JJ --> KK[ðŸ“… Data de Fechamento]
    KK --> LL[ðŸ“¤ Enviar para AprovaÃ§Ã£o]
    LL --> MM[â³ Aguardar AprovaÃ§Ã£o do Gestor]
    
    %% Fluxo do Gestor
    D --> NN[ðŸ‘¥ Visualizar Equipe]
    NN --> OO{AÃ§Ã£o do Gestor?}
    OO -->|Aprovar Vendas| PP[âœ… Aprovar/Rejeitar Vendas]
    OO -->|Ver Performance| QQ[ðŸ“Š Analisar Performance]
    OO -->|Configurar Metas| RR[ðŸŽ¯ Definir Metas]
    OO -->|Gerenciar Campanhas| SS[ðŸ“¢ Supervisionar Campanhas]
    
    %% AprovaÃ§Ã£o de Vendas
    MM --> PP
    PP --> TT{DecisÃ£o?}
    TT -->|Aprovar| UU[âœ… Venda Aprovada]
    TT -->|Rejeitar| VV[âŒ Venda Rejeitada]
    
    UU --> WW[ðŸ† Calcular Pontos]
    WW --> XX[ðŸ“ˆ Atualizar Ranking]
    XX --> YY[ðŸ”” Notificar Vendedor]
    
    VV --> ZZ[ðŸ“ Informar Motivo]
    ZZ --> AAA[ðŸ”” Notificar Vendedor]
    
    %% Sistema de PontuaÃ§Ã£o
    WW --> BBB{Tipo de Pontos?}
    BBB -->|Lead Gerado| CCC[+1 Ponto]
    BBB -->|Primeiro Contato| DDD[+2 Pontos]
    BBB -->|Interesse| EEE[+5 Pontos]
    BBB -->|Proposta| FFF[+10 Pontos]
    BBB -->|Venda| GGG[+50 Pontos + % Valor]
    
    CCC --> XX
    DDD --> XX
    EEE --> XX
    FFF --> XX
    GGG --> XX
    
    %% Ranking e GamificaÃ§Ã£o
    XX --> HHH[ðŸ† Atualizar Ranking]
    HHH --> III{Ã‰ Top 1?}
    III -->|Sim| JJJ[ðŸ¥‡ PrÃªmio Top 1]
    III -->|NÃ£o| KKK[ðŸ“Š PosiÃ§Ã£o no Ranking]
    
    JJJ --> LLL[ðŸŽ‰ Conquista Desbloqueada]
    KKK --> LLL
    LLL --> MMM[ðŸ”” NotificaÃ§Ã£o de Conquista]
    
    %% Dashboards e RelatÃ³rios
    QQ --> NNN[ðŸ“ˆ MÃ©tricas da Equipe]
    NNN --> OOO{Tipo de AnÃ¡lise?}
    OOO -->|Individual| PPP[ðŸ‘¤ Performance por Vendedor]
    OOO -->|Equipe| QQQ[ðŸ‘¥ Performance da Equipe]
    OOO -->|Campanhas| RRR[ðŸ“¢ ROI das Campanhas]
    OOO -->|Leads| SSS[ðŸ” AnÃ¡lise de Leads]
    
    PPP --> TTT[ðŸ“Š Gerar RelatÃ³rio]
    QQQ --> TTT
    RRR --> TTT
    SSS --> TTT
    
    TTT --> UUU[ðŸ“¤ Exportar para Power BI]
    UUU --> VVV[ðŸ“Š Dashboard Executivo]
    
    %% ConfiguraÃ§Ãµes de Admin
    E --> WWW[âš™ï¸ ConfiguraÃ§Ãµes do Sistema]
    WWW --> XXX{O que configurar?}
    XXX -->|UsuÃ¡rios| YYY[ðŸ‘¥ Gerenciar UsuÃ¡rios]
    XXX -->|IntegraÃ§Ãµes| ZZZ[ðŸ”— APIs e IntegraÃ§Ãµes]
    XXX -->|Templates| AAAA[ðŸ“ Templates de Mensagem]
    XXX -->|PontuaÃ§Ã£o| BBBB[ðŸ† Sistema de Pontos]
    
    %% IntegraÃ§Ãµes Externas
    ZZZ --> CCCC[ðŸ”Œ Configurar IntegraÃ§Ãµes]
    CCCC --> DDDD{Qual integraÃ§Ã£o?}
    DDDD -->|WhatsApp API| EEEE[ðŸ’¬ WhatsApp Business]
    DDDD -->|Email| FFFF[ðŸ“§ SendGrid/Mailgun]
    DDDD -->|CNPJ| GGGG[ðŸ¢ Receita Federal]
    DDDD -->|Analytics| HHHH[ðŸ“Š Power BI]
    
    %% NotificaÃ§Ãµes do Sistema
    YY --> IIII[ðŸ”” Central de NotificaÃ§Ãµes]
    AAA --> IIII
    MMM --> IIII
    GG --> IIII
    
    IIII --> JJJJ{Tipo de NotificaÃ§Ã£o?}
    JJJJ -->|Email| KKKK[ðŸ“§ Enviar Email]
    JJJJ -->|Push| LLLL[ðŸ“± NotificaÃ§Ã£o Push]
    JJJJ -->|In-App| MMMM[ðŸ”” NotificaÃ§Ã£o na AplicaÃ§Ã£o]
    
    %% MÃ©tricas e Analytics
    U --> NNNN[ðŸ“Š Coletar MÃ©tricas]
    NNNN --> OOOO{MÃ©tricas de?}
    OOOO -->|Campanha| PPPP[ðŸ“ˆ Taxa de Abertura]
    OOOO -->|ConversÃ£o| QQQQ[ðŸ’¹ Taxa de ConversÃ£o]
    OOOO -->|Vendas| RRRR[ðŸ’° Receita Gerada]
    
    PPPP --> UUU
    QQQQ --> UUU
    RRRR --> UUU
    
    %% AutomaÃ§Ãµes
    T --> SSSS[ðŸ¤– AutomaÃ§Ãµes]
    SSSS --> TTTT{Trigger acionado?}
    TTTT -->|Lead nÃ£o respondeu| UUUU[ðŸ”„ Follow-up AutomÃ¡tico]
    TTTT -->|Meta atingida| VVVV[ðŸŽ‰ Parabenizar Vendedor]
    TTTT -->|Lead perdido| WWWW[ðŸ“‹ AnÃ¡lise de Motivo]
    
    UUUU --> T
    VVVV --> IIII
    WWWW --> NNN
    
    %% Styling
    classDef startEnd fill:#e1f5fe
    classDef process fill:#f3e5f5
    classDef decision fill:#fff3e0
    classDef action fill:#e8f5e8
    classDef notification fill:#fce4ec
    
    class A,IIII startEnd
    class F,M,V,HH,QQ decision
    class C,D,E,NN,WWW process
    class K,L,OO,XXX,JJJJ action
    class YY,AAA,MMM,GG notification